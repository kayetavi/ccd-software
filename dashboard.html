<!DOCTYPE html>
<html>
<head>
  <title>CCD Pro Dashboard</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="app">

  <!-- ========== SIDEBAR ========== -->
  <aside class="sidebar">
    <h2 class="logo">CCD Pro</h2>

    <nav>
      <button class="tab active" data-target="projectSection"
        onclick="openTab('projectSection')">ğŸ“ Project</button>

      <button class="tab" data-target="loopSection"
        onclick="openTab('loopSection')">ğŸ” Corrosion Loops</button>

      <button class="tab" data-target="circuitSection"
        onclick="openTab('circuitSection')">ğŸ§© Circuits</button>

      <button class="tab" data-target="damageSection"
        onclick="openTab('damageSection')">âš ï¸ Damage</button>

      <button class="tab" data-target="reportSection"
        onclick="openTab('reportSection')">ğŸ“„ CCD Report</button>
    </nav>
  </aside>

  <!-- ========== MAIN CONTENT ========== -->
  <main class="content">

    <!-- ================= PROJECT ================= -->
    <section id="projectSection" class="box">
      <h3>Project</h3>

      <!-- ğŸ” EXISTING PROJECTS -->
      <label><b>Select Existing Project</b></label><br>
      <select id="projectSelect" style="width:320px; margin-bottom:8px"></select><br>

      <button onclick="switchProject()">Load Project</button>

      <hr style="margin:15px 0">

      <!-- â• CREATE / EDIT PROJECT -->
      <label><b>Create / Edit Project</b></label>

      <input id="plant" placeholder="Plant Name">
      <input id="unit" placeholder="Process Unit">

      <button onclick="createProject()">â• Create Project</button>
      <button onclick="updateProject()">âœï¸ Update Project</button>

      <p id="projectStatus" style="margin-top:10px;font-weight:bold"></p>
    </section>

    <!-- ================= LOOPS ================= -->
    <section id="loopSection" class="box" style="display:none">
      <h3>Corrosion Loops</h3>

      <input id="systemName" placeholder="Loop / System Name">
      <textarea id="systemDesc" placeholder="Process description"></textarea>

      <button onclick="addSystem()">Add Loop</button>

      <div id="systems" style="margin-top:10px">
        <i>No loops added yet</i>
      </div>
    </section>

    <!-- ================= CIRCUITS ================= -->
    <section id="circuitSection" class="box" style="display:none">
      <h3>Circuits</h3>

      <input id="circuitName" placeholder="Circuit Name (e.g. 04-P-LC-01)">
      <input id="material" placeholder="Material (e.g. CS)">
      <input id="temp" placeholder="Temp (Â°C)">
      <input id="pressure" placeholder="Pressure (bar)">

      <button onclick="addCircuit()">Add Circuit</button>

      <div id="circuits" style="margin-top:10px">
        <i>No circuits added yet</i>
      </div>
    </section>

    <!-- ================= DAMAGE ================= -->
    <section id="damageSection" class="box" style="display:none">
      <h3>Damage Mechanisms</h3>

      <p>Select applicable damage mechanisms (API 571)</p>

      <div id="damageList">
        <i>Select a circuit to assign damage mechanisms</i>
      </div>

      <!-- DAMAGE SUMMARY -->
      <div id="damageSummary" style="margin-top:15px; display:none">
        <h4>Selected Damage Mechanisms</h4>
        <ul id="damageSummaryList"></ul>
      </div>

      <button
        id="generateReportBtn"
        style="margin-top:15px"
        onclick="generateReport()">
        Generate CCD Report
      </button>
    </section>

    <!-- ================= REPORT ================= -->
    <section id="reportSection" class="box" style="display:none">
      <h3>CCD Report</h3>
      <div id="reportContent"></div>
    </section>

  </main>
</div>

<!-- ================= SCRIPTS ================= -->
<script type="module" src="js/dashboard.js"></script>
<script type="module" src="js/systems.js"></script>
<script type="module" src="js/circuits.js"></script>
<script type="module" src="js/damage.js"></script>
<script type="module" src="js/report.js"></script>

</body>
</html>
