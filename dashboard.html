<!DOCTYPE html>
<html>
<head>
  <title>CCD Pro Dashboard</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="app">

  <!-- ========== SIDEBAR ========== -->
  <aside class="sidebar">
    <h2 class="logo">CCD Pro</h2>

    <nav>
      <button class="tab active" data-target="projectSection"
        onclick="openTab('projectSection')">üìÅ Project</button>

      <button class="tab" data-target="loopSection"
        onclick="openTab('loopSection')">üîÅ Corrosion Loops</button>

      <button class="tab" data-target="circuitSection"
        onclick="openTab('circuitSection')">üß© Circuits</button>

      <button class="tab" data-target="damageSection"
        onclick="openTab('damageSection')">‚ö†Ô∏è Damage</button>

      <button class="tab" data-target="reportSection"
        onclick="openTab('reportSection')">üìÑ CCD Report</button>
    </nav>
  </aside>

  <!-- ========== MAIN CONTENT ========== -->
  <main class="content">

    <!-- ================= PROJECT ================= -->
    <section id="projectSection" class="box">
      <h3>Project</h3>

      <!-- üîÅ EXISTING PROJECTS -->
      <label><b>Select Existing Project</b></label><br>
      <select id="projectSelect" style="width:320px; margin-bottom:8px"></select><br>

      <button onclick="switchProject()">Load Project</button>

      <hr style="margin:15px 0">

      <!-- ‚ûï CREATE / EDIT PROJECT -->
      <label><b>Create / Edit Project</b></label>

      <input id="plant" placeholder="Plant Name">
      <input id="unit" placeholder="Process Unit">

      <button onclick="createProject()">‚ûï Create Project</button>
      <button onclick="updateProject()">‚úèÔ∏è Update Project</button>

      <p id="projectStatus" style="margin-top:10px;font-weight:bold"></p>
    </section>

    <!-- ================= LOOPS ================= -->
    <section id="loopSection" class="box" style="display:none">
      <h3>Corrosion Loops</h3>

      <input id="systemName" placeholder="Loop / System Name">
      <textarea id="systemDesc" placeholder="Process description"></textarea>

      <button onclick="addSystem()">Add Loop</button>

      <div id="systems" style="margin-top:10px">
        <i>No loops added yet</i>
      </div>
    </section>

    <!-- ================= CIRCUITS ================= -->
    <section id="circuitSection" class="box" style="display:none">
      <h3>Circuits</h3>

      <input id="circuitName" placeholder="Circuit Name (e.g. 04-P-LC-01)">
      <input id="material" placeholder="Material (e.g. CS)">
      <input id="temp" placeholder="Temp (¬∞C)">
      <input id="pressure" placeholder="Pressure (bar)">

      <button onclick="addCircuit()">Add Circuit</button>

      <hr>

<label><b>Process Fluid</b></label>
<select id="processFluidSelect">
  <option value="">-- Select Process Fluid --</option>
</select>

<label><b>Stream Phase</b></label>
<select id="streamPhaseSelect">
  <option value="">-- Select Stream Phase --</option>
</select>

<hr>

<label><b>Inspection Techniques</b></label>
<div id="inspectionList">
  <i>Loading inspection techniques...</i>
</div>


      <div id="circuits" style="margin-top:10px">
        <i>No circuits added yet</i>
      </div>
    </section>

    <!-- ================= DAMAGE ================= -->
    <section id="damageSection" class="box" style="display:none">
      <h3>Damage Mechanisms</h3>

      <p>Select applicable damage mechanisms (API 571)</p>

      <div id="damageList">
        <i>Select a circuit to assign damage mechanisms</i>
      </div>

      <!-- DAMAGE SUMMARY -->
      <div id="damageSummary" style="margin-top:15px; display:none">
        <h4>Selected Damage Mechanisms</h4>
        <ul id="damageSummaryList"></ul>
      </div>

      <button
        id="generateReportBtn"
        style="margin-top:15px"
        onclick="generateReport()">
        Generate CCD Report
      </button>
    </section>

    <!-- ================= REPORT ================= -->
    <section id="reportSection" class="box" style="display:none">

  <div id="ccdReport" style="font-family:Arial; font-size:12px">

    <h3 style="border-bottom:1px solid #000">
      7.<span id="r_loop_no">31</span>
      Corrosion Loop:
      <span id="r_loop_code"></span> ‚Äì
      <span id="r_service"></span>
    </h3>

    <b>a) Corrosion Loop Description</b>
    <p id="r_loop_desc"></p>

    <b>b) Corrosion Loop Process Description</b>
    <p id="r_process_desc"></p>

    <b>c) Operating Parameters</b>
    <ul>
      <li>Operating Temperature: <span id="r_temp"></span></li>
      <li>Operating Pressure: <span id="r_pressure"></span></li>
      <li>Process Fluid: <span id="r_fluid"></span></li>
      <li>Stream Phase: <span id="r_phase"></span></li>
    </ul>

    <b>d) Critical Process Constituents</b>
    <table style="width:100%;border-collapse:collapse">
      <tr><td>H2S</td><td class="red">NA</td></tr>
      <tr><td>CO2</td><td class="red">NA</td></tr>
      <tr><td>O2</td><td class="red">NA</td></tr>
      <tr><td>Chloride</td><td class="red">NA</td></tr>
    </table>

    <b>e) Material of Construction</b>
    <p id="r_material"></p>

    <b>f) Primary Damage Mechanisms</b>
    <ul>
      <li>Internal: <span id="r_internal_dm"></span></li>
      <li>External: <span id="r_external_dm"></span></li>
    </ul>

    <b>j) Suggested Inspection Techniques</b>
    <ul id="r_inspection"></ul>

    <hr>

    <table style="width:100%;font-size:11px">
      <tr>
        <td><b>Company</b></td><td>NRL</td>
        <td><b>Prepared By</b></td><td>System</td>
      </tr>
      <tr>
        <td><b>Plant</b></td><td id="r_plant"></td>
        <td><b>Approved By</b></td><td>‚Äî</td>
      </tr>
    </table>

  </div>

</section>

  </main>
</div>

<!-- ================= SCRIPTS ================= -->
<script type="module" src="js/dashboard.js"></script>
<script type="module" src="js/systems.js"></script>
<script type="module" src="js/circuits.js"></script>
<script type="module" src="js/damage.js"></script>
<script type="module" src="js/report.js"></script>

</body>
</html>
